/*! SmartEditor3 - v1.0.0 - 2018-05-10
* Copyright (c) 2018 NAVER Corp; Licensed  */

(function(a,b,c,d){"use strict";var e="nmodallayer",f={content:"",escape:true,close:true,buttons:[],animate:false,beforeCreate:function(){},afterCreate:function(){},beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}};function g(b,c){this.element=b;this.$element=a(this.element);this.settings=a.extend({},f,c);this._defaults=f;this._name=e;this.create()}a.extend(g.prototype,{create:function(){var a=this.settings;a.beforeCreate(this.element);this._assignElements();this._bind();this.render(a.content,a.buttons);a.afterCreate(this.element)},_assignElements:function(){this._$content=this.$element.find(".__se_pop_content");this._$buttons=this.$element.find(".__se_pop_buttons");this._$close=this.$element.find(".__se_pop_close")},_bind:function(){if(this.settings.escape){a("body").on("keyup",a.proxy(this._onKeyup,this))}if(this._$close.length>0){this._$close.on("click",a.proxy(this.close,this))}},_unbind:function(){if(this.settings.escape){a("body").off("keyup",a.proxy(this._onKeyup,this))}},_setContent:function(a){if(this._$content.length<1){return}if(a===""){return}this._$content.html(a)},_createButtons:function(b){if(this._$buttons.length<1){return}if(b.length<1){return}var c=this;var d=this._$buttons,e;a.each(b,function(b,f){e=a("<button type='button'></button>").addClass(f.class).html("<span>"+f.text+"</span>");a.each(f,function(b,d){if(a.isFunction(d)){e.on(b,a.proxy(d,c))}});d.append(e)})},render:function(a,b){this._displayClose();this._setContent(a);this._createButtons(b)},_displayClose:function(){var a=this._$close;if(a.length<=0){return}if(this.settings.close){a.show()}else{a.hide()}},_onKeyup:function(a){if(a.keyCode===27){this.close()}},open:function(){this.settings.beforeOpen();if(this.settings.animate){this.$element.stop().fadeIn("fast",this.settings.afterOpen)}else{this.$element.stop().addClass("is-on");this.settings.afterOpen()}},close:function(a){if(a)a.preventDefault();this.settings.beforeClose();this.$element.removeClass("is-on");this.destroy();this.settings.afterClose()},destroy:function(){this._unbind();this._$content.html("");this._$buttons.html("");this._$content=null;this._$buttons=null;this._$close=null;this.$element.removeData();this.$element.remove()}});a.fn[e]=function(b){return this.each(function(){if(!a.data(this,"plugin_"+e)){a.data(this,"plugin_"+e,new g(this,b))}else{if(typeof b==="string"&&typeof a.data(this,"plugin_"+e)[b]==="function"){a.data(this,"plugin_"+e)[b]()}}})}})(jQuery,window,document);(function(a,b,c,d){"use strict";var e="ntoast",f={id:"toast-container",sContainerClass:"pop_toast_wrap",sToastClass:"pop_toast",sWrapClass:"toast_msg_wrap",sMessageClass:"toast_msg",sMessage:"토스트 메세지",nTime:2e3},g=0;function h(b,c){this.element=b;this.settings=a.extend({},f,c);this._defaults=c||f;this._name=e;this.init()}a.extend(h.prototype,{init:function(){this.createContainer()},createContainer:function(){if(a("#"+this._defaults.id).length)return;var b=a("<div/>").attr("id",this._defaults.id).addClass(this._defaults.sContainerClass);b.appendTo(c.body);var d=a("<div/>"),e=a("<div/>");d.addClass(this._defaults.sToastClass);e.addClass(this._defaults.sWrapClass);d.html(e);b.html(d);return b},getContainer:function(){var b=a("#"+this._defaults.id);if(b.length){return b}else{b=this.createContainer()}b.addClass(this._defaults.sContainerClass);return b},popupToast:function(b){var c=this.getContainer(),d=a("<span/>").addClass(this._defaults.sMessageClass),e=this._defaults.sWrapClass;if(a(".toast_msg").text()===this._defaults.sMessage){return}a("."+e).html("");d.text(this._defaults.sMessage);c.addClass("is-on");a("."+e).append(d);var b=typeof b==="number"?b:this._defaults.nTime;clearTimeout(g);g=setTimeout(function(){this.closeToast()}.bind(this),b)},closeToast:function(){clearTimeout(g);this.getContainer().removeClass("is-on");a("."+this._defaults.sWrapClass).html("")},setMessage:function(a){this._defaults.sMessage=a},setTime:function(a){a=a||2e3;this._defaults.nTime=a}});a.fn[e]=function(b,c){return this.each(function(){if(!a.data(this,"plugin_"+e)){a.data(this,"plugin_"+e,new h(this,b))}else{if(typeof b==="string"&&typeof a.data(this,"plugin_"+e)[b]==="function"){a.data(this,"plugin_"+e)[b](c)}}})};a(c.body).ntoast()})(jQuery,window,document);(function(a,b,c,d){"use strict";var e="ntooltip",f={type:"bottom",left:0,top:0,autoClose:true,pointerType:"",message:"",extraClass:"",needCloseBodyEvent:true,appendTarget:c.body};function g(b,c){this.element=b;this.$element=a(this.element);this.settings=a.extend({},f,c);this._defaults=c||f;this._name=e;this.init()}a.extend(g.prototype,{init:function(){this.createTooltip()},createTooltip:function(){var a=se.editor.template.common["common-tooltip.hbs"];var b=this.settings;this.elTooltip=a({extraClass:b.extraClass,message:b.message,pointerClass:b.pointerType+"_pointer"});this._assignElement();this._bindEvent();this._setStyle()},_assignElement:function(){this.$elTooltip=a(this.elTooltip).appendTo(this.settings.appendTarget);this.nTooltipHeight=this.$elTooltip.height();this.nTooltipWidth=this.$elTooltip.width()},_bindEvent:function(){if(this.settings.needCloseBodyEvent){a("body").on("click.ntooltip",a.proxy(this.closeTooltip,this))}},_unbindEvent:function(){a("body").off(".ntooltip")},_getWrapStyle:function(){var a=this.settings.type;var b=0,c=0;var d=this.settings.left,e=this.settings.top;var f=this.$element.offset();var g=this.$element.innerHeight(),h=this.$element.innerWidth();switch(a){case"bottom":b=f.top+g+12-e;c=f.left+h/2-this.nTooltipWidth/2-d;break;case"top":b=f.top-this.nTooltipHeight-12-e;c=f.left+h/2-this.nTooltipWidth/2-d;break;case"left":b=f.top+g/2-this.nTooltipHeight/2-e;c=f.left-this.nTooltipWidth-12-d;break;case"right":b=f.top+g/2-this.nTooltipHeight/2-e;c=f.left+h+12-d;break;case"topLeft":b=f.top-this.nTooltipHeight-12;c=f.left;break;case"relative":b=f.top+e;c=f.left+d;break;case"custom":b=e;c=d;break}return{top:b+"px",left:c+"px"}},_getPositionStyle:function(){var a=this.settings.type;var b=0,c=0;if(this.settings.pointerType===""){a=""}switch(a){case"bottom":b=this.nTooltipWidth/2+this.settings.left-12;return{left:b+"px"};case"top":b=this.nTooltipWidth/2+this.settings.left-12;return{left:b+"px"};case"left":case"right":c=this.nTooltipHeight/2+this.settings.top-10;return{top:c+"px"};case"relative":b=-this.settings.left;return{left:b+"px"};default:return{}}},_setStyle:function(){this.$elTooltip.css(this._getWrapStyle());this.$elTooltip.find(".pop_GTooltip_pointer").css(this._getPositionStyle())},openTooltip:function(){this.closeAll();this._setStyle();this.$elTooltip.addClass("is-on");this._bindEvent();if(this.settings.autoClose){this._setInterval=setInterval(function(){this.closeTooltip()}.bind(this),5e3)}},closeTooltip:function(){this.$elTooltip.removeClass("is-on");this._unbindEvent();clearInterval(this._setInterval)},closeAll:function(){a(".pop_GTooltip_wrap").removeClass("is-on");this._unbindEvent()},destory:function(){this.closeTooltip();this.$element.removeData();this.$element.remove();this.$elTooltip.html("");this.settings={}}});a.fn[e]=function(b,c){return this.each(function(){if(!a.data(this,"plugin_"+e)){a.data(this,"plugin_"+e,new g(this,b))}else{if(typeof b==="string"&&typeof a.data(this,"plugin_"+e)[b]==="function"){a.data(this,"plugin_"+e)[b](c)}}})}})(jQuery,window,document);(function(a){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],a)}else if(typeof module!=="undefined"&&module.exports){module.exports=a(require("jquery"))}else{a(jQuery)}})(function(a){"use strict";var b=a.scrollTo=function(b,c,d){return a(window).scrollTo(b,c,d)};b.defaults={axis:"xy",duration:0,limit:true};function c(b){return!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}a.fn.scrollTo=function(e,f,g){if(typeof f==="object"){g=f;f=0}if(typeof g==="function"){g={onAfter:g}}if(e==="max"){e=9e9}g=a.extend({},b.defaults,g);f=f||g.duration;var h=g.queue&&g.axis.length>1;if(h){f/=2}g.offset=d(g.offset);g.over=d(g.over);return this.each(function(){if(e===null)return;var i=c(this),j=i?this.contentWindow||window:this,k=a(j),l=e,m={},n;switch(typeof l){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(l)){l=d(l);break}l=i?a(l):a(l,j);case"object":if(l.length===0)return;if(l.is||l.style){n=(l=a(l)).offset()}}var o=a.isFunction(g.offset)&&g.offset(j,l)||g.offset;a.each(g.axis.split(""),function(a,c){var d=c==="x"?"Left":"Top",e=d.toLowerCase(),f="scroll"+d,q=k[f](),r=b.max(j,c);if(n){m[f]=n[e]+(i?0:q-k.offset()[e]);if(g.margin){m[f]-=parseInt(l.css("margin"+d),10)||0;m[f]-=parseInt(l.css("border"+d+"Width"),10)||0}m[f]+=o[e]||0;if(g.over[e]){m[f]+=l[c==="x"?"width":"height"]()*g.over[e]}}else{var s=l[e];m[f]=s.slice&&s.slice(-1)==="%"?parseFloat(s)/100*r:s}if(g.limit&&/^\d+$/.test(m[f])){m[f]=m[f]<=0?0:Math.min(m[f],r)}if(!a&&g.axis.length>1){if(q===m[f]){m={}}else if(h){p(g.onAfterFirst);m={}}}});p(g.onAfter);function p(b){var c=a.extend({},g,{queue:true,duration:f,complete:b&&function(){b.call(j,l,g)}});k.animate(m,c)}})};b.max=function(b,d){var e=d==="x"?"Width":"Height",f="scroll"+e;if(!c(b))return b[f]-a(b)[e.toLowerCase()]();var g="client"+e,h=b.ownerDocument||b.document,i=h.documentElement,j=h.body;return Math.max(i[f],j[f])-Math.min(i[g],j[g])};function d(b){return a.isFunction(b)||a.isPlainObject(b)?b:{top:b,left:b}}a.Tween.propHooks.scrollLeft=a.Tween.propHooks.scrollTop={get:function(b){return a(b.elem)[b.prop]()},set:function(b){var c=this.get(b);if(b.options.interrupt&&b._last&&b._last!==c){return a(b.elem).stop()}var d=Math.round(b.now);if(c!==d){a(b.elem)[b.prop](d);b._last=this.get(b)}}};return b});(function(){var a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];var b=window.mozInnerScreenX!=null;function c(c,d){var e=document.createElement("div");e.id="input-textarea-caret-position-mirror-div";document.body.appendChild(e);var f=e.style;var g=window.getComputedStyle?getComputedStyle(c.parentNode):c.parentNode.currentStyle;var h=parseInt(getComputedStyle(c).lineHeight,10);var i=parseInt(g.lineHeight,10);f.whiteSpace="pre-wrap";if(c.nodeName!=="INPUT")f.wordWrap="break-word";f.display="none";f.position="absolute";f.visibility="hidden";a.forEach(function(a){f[a]=g[a]});if(h>i){f.lineHeight=h+"px"}f.display="";if(b){if(c.scrollHeight>parseInt(g.height))f.overflowY="scroll"}else{f.overflow="hidden"}e.textContent=c.value.substring(0,d);if(c.nodeName==="INPUT")e.textContent=e.textContent.replace(/\s/g," ");var j=document.createElement("span");j.textContent=c.value.substring(d)||".";e.appendChild(j);var k={top:j.offsetTop+parseInt(g["borderTopWidth"]),left:j.offsetLeft+parseInt(g["borderLeftWidth"])};document.body.removeChild(e);e.innerHTML="";j=null;e=null;c=null;return k}if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=c}else{window.getCaretCoordinates=c}})();(function(a){"use strict";if(typeof define==="function"&&define.amd){define(["jquery","jquery.ui.widget"],a)}else if(typeof exports==="object"){a(require("jquery"),require("./vendor/jquery.ui.widget"))}else{a(window.jQuery)}})(function(a){"use strict";a.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))"+"|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)"+"|(w(eb)?OSBrowser)|(webOS)"+"|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||a('<input type="file">').prop("disabled"));a.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);a.support.xhrFormDataFileUpload=!!window.FormData;a.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);function b(b){var c=b==="dragover";return function(d){d.dataTransfer=d.originalEvent&&d.originalEvent.dataTransfer;var e=d.dataTransfer;if(e&&a.inArray("Files",e.types)!==-1&&this._trigger(b,a.Event(b,{delegatedEvent:d}))!==false){d.preventDefault();if(c){e.dropEffect="copy"}}}}a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(b,c){b=this.messages[b]||b.toString();if(c){a.each(c,function(a,c){b=b.replace("{"+a+"}",c)})}return b},formData:function(a){return a.serializeArray()},add:function(b,c){if(b.isDefaultPrevented()){return false}if(c.autoUpload||c.autoUpload!==false&&a(this).fileupload("option","autoUpload")){c.process().done(function(){c.submit()})}},processData:false,contentType:false,cache:false,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.loaded=0;this.bitrate=0;this.getBitrate=function(a,b,c){var d=a-this.timestamp;if(!this.bitrate||!c||d>c){this.bitrate=(b-this.loaded)*(1e3/d)*8;this.loaded=b;this.timestamp=a}return this.bitrate}},_isXHRUpload:function(b){return!b.forceIframeTransport&&(!b.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(b){var c;if(a.type(b.formData)==="function"){return b.formData(b.form)}if(a.isArray(b.formData)){return b.formData}if(a.type(b.formData)==="object"){c=[];a.each(b.formData,function(a,b){c.push({name:a,value:b})});return c}return[]},_getTotal:function(b){var c=0;a.each(b,function(a,b){c+=b.size||1});return c},_initProgressObject:function(b){var c={loaded:0,total:0,bitrate:0};if(b._progress){a.extend(b._progress,c)}else{b._progress=c}},_initResponseObject:function(a){var b;if(a._response){for(b in a._response){if(a._response.hasOwnProperty(b)){delete a._response[b]}}}else{a._response={}}},_onProgress:function(b,c){if(b.lengthComputable){var d=Date.now?Date.now():(new Date).getTime(),e;if(c._time&&c.progressInterval&&d-c._time<c.progressInterval&&b.loaded!==b.total){return}c._time=d;e=Math.floor(b.loaded/b.total*(c.chunkSize||c._progress.total))+(c.uploadedBytes||0);this._progress.loaded+=e-c._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(d,this._progress.loaded,c.bitrateInterval);c._progress.loaded=c.loaded=e;c._progress.bitrate=c.bitrate=c._bitrateTimer.getBitrate(d,e,c.bitrateInterval);this._trigger("progress",a.Event("progress",{delegatedEvent:b}),c);this._trigger("progressall",a.Event("progressall",{delegatedEvent:b}),this._progress)}},_initProgressListener:function(b){var c=this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();if(d.upload){a(d.upload).bind("progress",function(a){var d=a.originalEvent;a.lengthComputable=d.lengthComputable;a.loaded=d.loaded;a.total=d.total;c._onProgress(a,b)});b.xhr=function(){return d}}},_isInstanceOf:function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(b){var c=this,d,e=b.files[0],f=b.multipart||!a.support.xhrFileUpload,g=a.type(b.paramName)==="array"?b.paramName[0]:b.paramName;b.headers=a.extend({},b.headers);if(b.contentRange){b.headers["Content-Range"]=b.contentRange}if(!f||b.blob||!this._isInstanceOf("File",e)){b.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'}if(!f){b.contentType=e.type||"application/octet-stream";b.data=b.blob||e}else if(a.support.xhrFormDataFileUpload){if(b.postMessage){d=this._getFormData(b);if(b.blob){d.push({name:g,value:b.blob})}else{a.each(b.files,function(c,e){d.push({name:a.type(b.paramName)==="array"&&b.paramName[c]||g,value:e})})}}else{if(c._isInstanceOf("FormData",b.formData)){d=b.formData}else{d=new FormData;a.each(this._getFormData(b),function(a,b){d.append(b.name,b.value)})}if(b.blob){d.append(g,b.blob,e.name)}else{a.each(b.files,function(e,f){if(c._isInstanceOf("File",f)||c._isInstanceOf("Blob",f)){d.append(a.type(b.paramName)==="array"&&b.paramName[e]||g,f,f.uploadName||f.name)}})}}b.data=d}b.blob=null},_initIframeSettings:function(b){var c=a("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||"");b.formData=this._getFormData(b);if(b.redirect&&c&&c!==location.host){b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})}},_initDataSettings:function(a){if(this._isXHRUpload(a)){if(!this._chunkedUpload(a,true)){if(!a.data){this._initXHRData(a)}this._initProgressListener(a)}if(a.postMessage){a.dataType="postmessage "+(a.dataType||"")}}else{this._initIframeSettings(a)}},_getParamName:function(b){var c=a(b.fileInput),d=b.paramName;if(!d){d=[];c.each(function(){var b=a(this),c=b.prop("name")||"files[]",e=(b.prop("files")||[1]).length;while(e){d.push(c);e-=1}});if(!d.length){d=[c.prop("name")||"files[]"]}}else if(!a.isArray(d)){d=[d]}return d},_initFormSettings:function(b){if(!b.form||!b.form.length){b.form=a(b.fileInput.prop("form"));if(!b.form.length){b.form=a(this.options.fileInput.prop("form"))}}b.paramName=this._getParamName(b);if(!b.url){b.url=b.form.prop("action")||location.href}b.type=(b.type||a.type(b.form.prop("method"))==="string"&&b.form.prop("method")||"").toUpperCase();if(b.type!=="POST"&&b.type!=="PUT"&&b.type!=="PATCH"){b.type="POST"}if(!b.formAcceptCharset){b.formAcceptCharset=b.form.attr("accept-charset")}},_getAJAXSettings:function(b){var c=a.extend({},this.options,b);this._initFormSettings(c);this._initDataSettings(c);return c},_getDeferredState:function(a){if(a.state){return a.state()}if(a.isResolved()){return"resolved"}if(a.isRejected()){return"rejected"}return"pending"},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(b,c,d){var e=a.Deferred(),f=e.promise();c=c||this.options.context||f;if(b===true){e.resolveWith(c,d)}else if(b===false){e.rejectWith(c,d)}f.abort=e.promise;return this._enhancePromise(f)},_addConvenienceMethods:function(b,c){var d=this,e=function(b){return a.Deferred().resolveWith(d,b).promise()};c.process=function(b,f){if(b||f){c._processQueue=this._processQueue=(this._processQueue||e([this])).pipe(function(){if(c.errorThrown){return a.Deferred().rejectWith(d,[c]).promise()}return e(arguments)}).pipe(b,f)}return this._processQueue||e([this])};c.submit=function(){if(this.state()!=="pending"){c.jqXHR=this.jqXHR=d._trigger("submit",a.Event("submit",{delegatedEvent:b}),this)!==false&&d._onSend(b,this)}return this.jqXHR||d._getXHRPromise()};c.abort=function(){if(this.jqXHR){return this.jqXHR.abort()}this.errorThrown="abort";d._trigger("fail",null,this);return d._getXHRPromise(false)};c.state=function(){if(this.jqXHR){return d._getDeferredState(this.jqXHR)}if(this._processQueue){return d._getDeferredState(this._processQueue)}};c.processing=function(){return!this.jqXHR&&this._processQueue&&d._getDeferredState(this._processQueue)==="pending"};c.progress=function(){return this._progress};c.response=function(){return this._response}},_getUploadedBytes:function(a){var b=a.getResponseHeader("Range"),c=b&&b.split("-"),d=c&&c.length>1&&parseInt(c[1],10);return d&&d+1},_chunkedUpload:function(b,c){b.uploadedBytes=b.uploadedBytes||0;var d=this,e=b.files[0],f=e.size,g=b.uploadedBytes,h=b.maxChunkSize||f,i=this._blobSlice,j=a.Deferred(),k=j.promise(),l,m;if(!(this._isXHRUpload(b)&&i&&(g||h<f))||b.data){return false}if(c){return true}if(g>=f){e.error=b.i18n("uploadedBytes");return this._getXHRPromise(false,b.context,[null,"error",e.error])}m=function(){var c=a.extend({},b),k=c._progress.loaded;c.blob=i.call(e,g,g+h,e.type);c.chunkSize=c.blob.size;c.contentRange="bytes "+g+"-"+(g+c.chunkSize-1)+"/"+f;d._initXHRData(c);d._initProgressListener(c);l=(d._trigger("chunksend",null,c)!==false&&a.ajax(c)||d._getXHRPromise(false,c.context)).done(function(e,h,i){g=d._getUploadedBytes(i)||g+c.chunkSize;if(k+c.chunkSize-c._progress.loaded){d._onProgress(a.Event("progress",{lengthComputable:true,loaded:g-c.uploadedBytes,total:g-c.uploadedBytes}),c)}b.uploadedBytes=c.uploadedBytes=g;c.result=e;c.textStatus=h;c.jqXHR=i;d._trigger("chunkdone",null,c);d._trigger("chunkalways",null,c);if(g<f){m()}else{j.resolveWith(c.context,[e,h,i])}}).fail(function(a,b,e){c.jqXHR=a;c.textStatus=b;c.errorThrown=e;d._trigger("chunkfail",null,c);d._trigger("chunkalways",null,c);j.rejectWith(c.context,[a,b,e])})};this._enhancePromise(k);k.abort=function(){return l.abort()};m();return k},_beforeSend:function(a,b){if(this._active===0){this._trigger("start");this._bitrateTimer=new this._BitrateTimer;this._progress.loaded=this._progress.total=0;this._progress.bitrate=0}this._initResponseObject(b);this._initProgressObject(b);b._progress.loaded=b.loaded=b.uploadedBytes||0;b._progress.total=b.total=this._getTotal(b.files)||1;b._progress.bitrate=b.bitrate=0;this._active+=1;this._progress.loaded+=b.loaded;this._progress.total+=b.total},_onDone:function(b,c,d,e){var f=e._progress.total,g=e._response;if(e._progress.loaded<f){this._onProgress(a.Event("progress",{lengthComputable:true,loaded:f,total:f}),e)}g.result=e.result=b;g.textStatus=e.textStatus=c;g.jqXHR=e.jqXHR=d;this._trigger("done",null,e)},_onFail:function(a,b,c,d){var e=d._response;if(d.recalculateProgress){this._progress.loaded-=d._progress.loaded;this._progress.total-=d._progress.total}e.jqXHR=d.jqXHR=a;e.textStatus=d.textStatus=b;e.errorThrown=d.errorThrown=c;this._trigger("fail",null,d)},_onAlways:function(a,b,c,d){this._trigger("always",null,d)},_onSend:function(b,c){if(!c.submit){this._addConvenienceMethods(b,c)}var d=this,e,f,g,h,i=d._getAJAXSettings(c),j=function(){d._sending+=1;i._bitrateTimer=new d._BitrateTimer;e=e||((f||d._trigger("send",a.Event("send",{delegatedEvent:b}),i)===false)&&d._getXHRPromise(false,i.context,f)||d._chunkedUpload(i)||a.ajax(i)).done(function(a,b,c){d._onDone(a,b,c,i)}).fail(function(a,b,c){d._onFail(a,b,c,i)}).always(function(a,b,c){d._onAlways(a,b,c,i);d._sending-=1;d._active-=1;if(i.limitConcurrentUploads&&i.limitConcurrentUploads>d._sending){var e=d._slots.shift();while(e){if(d._getDeferredState(e)==="pending"){e.resolve();break}e=d._slots.shift()}}if(d._active===0){d._trigger("stop")}});return e};this._beforeSend(b,i);if(this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending){if(this.options.limitConcurrentUploads>1){g=a.Deferred();this._slots.push(g);h=g.pipe(j)}else{this._sequence=this._sequence.pipe(j,j);h=this._sequence}h.abort=function(){f=[undefined,"abort","abort"];if(!e){if(g){g.rejectWith(i.context,f)}return j()}return e.abort()};return this._enhancePromise(h)}return j()},_onAdd:function(b,c){var d=this,e=true,f=a.extend({},this.options,c),g=c.files,h=g.length,i=f.limitMultiFileUploads,j=f.limitMultiFileUploadSize,k=f.limitMultiFileUploadSizeOverhead,l=0,m=this._getParamName(f),n,o,p,q,r=0;if(!h){return false}if(j&&g[0].size===undefined){j=undefined}if(!(f.singleFileUploads||i||j)||!this._isXHRUpload(f)){p=[g];n=[m]}else if(!(f.singleFileUploads||j)&&i){p=[];n=[];for(q=0;q<h;q+=i){p.push(g.slice(q,q+i));o=m.slice(q,q+i);if(!o.length){o=m}n.push(o)}}else if(!f.singleFileUploads&&j){p=[];n=[];for(q=0;q<h;q=q+1){l+=g[q].size+k;if(q+1===h||l+g[q+1].size+k>j||i&&q+1-r>=i){p.push(g.slice(r,q+1));o=m.slice(r,q+1);if(!o.length){o=m}n.push(o);r=q+1;l=0}}}else{n=m}c.originalFiles=g;a.each(p||g,function(f,g){var h=a.extend({},c);h.files=p?g:[g];h.paramName=n[f];d._initResponseObject(h);d._initProgressObject(h);d._addConvenienceMethods(b,h);e=d._trigger("add",a.Event("add",{delegatedEvent:b}),h);return e});return e},_replaceFileInput:function(b){var c=b.fileInput,d=c.clone(true);b.fileInputClone=d;a("<form></form>").append(d)[0].reset();c.after(d).detach();a.cleanData(c.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(a,b){if(b===c[0]){return d[0]}return b});if(c[0]===this.element[0]){this.element=d}},_handleFileTreeEntry:function(b,c){var d=this,e=a.Deferred(),f=function(a){if(a&&!a.entry){a.entry=b}e.resolve([a])},g=function(a){d._handleFileTreeEntries(a,c+b.name+"/").done(function(a){e.resolve(a)}).fail(f)},h=function(){i.readEntries(function(a){if(!a.length){g(j)}else{j=j.concat(a);h()}},f)},i,j=[];c=c||"";if(b.isFile){if(b._file){b._file.relativePath=c;e.resolve(b._file)}else{b.file(function(a){a.relativePath=c;e.resolve(a)},f)}}else if(b.isDirectory){i=b.createReader();h()}else{e.resolve([])}return e.promise()},_handleFileTreeEntries:function(b,c){var d=this;return a.when.apply(a,a.map(b,function(a){return d._handleFileTreeEntry(a,c)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(b){b=b||{};var c=b.items;if(c&&c.length&&(c[0].webkitGetAsEntry||c[0].getAsEntry)){return this._handleFileTreeEntries(a.map(c,function(a){var b;if(a.webkitGetAsEntry){b=a.webkitGetAsEntry();if(b){b._file=a.getAsFile()}return b}return a.getAsEntry()}))}return a.Deferred().resolve(a.makeArray(b.files)).promise()},_getSingleFileInputFiles:function(b){b=a(b);var c=b.prop("webkitEntries")||b.prop("entries"),d,e;if(c&&c.length){return this._handleFileTreeEntries(c)}d=a.makeArray(b.prop("files"));if(!d.length){e=b.prop("value");if(!e){return a.Deferred().resolve([]).promise()}d=[{name:e.replace(/^.*\\/,"")}]}else if(d[0].name===undefined&&d[0].fileName){a.each(d,function(a,b){b.name=b.fileName;b.size=b.fileSize})}return a.Deferred().resolve(d).promise()},_getFileInputFiles:function(b){if(!(b instanceof a)||b.length===1){return this._getSingleFileInputFiles(b)}return a.when.apply(a,a.map(b,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(b){var c=this,d={fileInput:a(b.target),form:a(b.target.form)};this._getFileInputFiles(d.fileInput).always(function(e){d.files=e;if(c.options.replaceFileInput){c._replaceFileInput(d)}if(c._trigger("change",a.Event("change",{delegatedEvent:b}),d)!==false){c._onAdd(b,d)}})},_onPaste:function(b){var c=b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.items,d={files:[]};if(c&&c.length){a.each(c,function(a,b){var c=b.getAsFile&&b.getAsFile();if(c){d.files.push(c)}});if(this._trigger("paste",a.Event("paste",{delegatedEvent:b}),d)!==false){this._onAdd(b,d)}}},_onDrop:function(b){b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=this,d=b.dataTransfer,e={};if(d&&d.files&&d.files.length){b.preventDefault();this._getDroppedFiles(d).always(function(d){e.files=d;if(c._trigger("drop",a.Event("drop",{delegatedEvent:b}),e)!==false){c._onAdd(b,e)}})}},_onDragOver:b("dragover"),_onDragEnter:b("dragenter"),_onDragLeave:b("dragleave"),_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave});this._on(this.options.pasteZone,{paste:this._onPaste})}if(a.support.fileInput){this._on(this.options.fileInput,{change:this._onChange})}},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(b,c){var d=a.inArray(b,this._specialOptions)!==-1;if(d){this._destroyEventHandlers()}this._super(b,c);if(d){this._initSpecialOptions();this._initEventHandlers()}},_initSpecialOptions:function(){var b=this.options;if(b.fileInput===undefined){b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]')}else if(!(b.fileInput instanceof a)){b.fileInput=a(b.fileInput)}if(!(b.dropZone instanceof a)){b.dropZone=a(b.dropZone)}if(!(b.pasteZone instanceof a)){b.pasteZone=a(b.pasteZone)}},_getRegExp:function(a){var b=a.split("/"),c=b.pop();b.shift();return new RegExp(b.join("/"),c)},_isRegExpOption:function(b,c){return b!=="url"&&a.type(c)==="string"&&/^\/.*\/[igm]{0,3}$/.test(c)},_initDataAttributes:function(){var b=this,c=this.options,d=this.element.data();a.each(this.element[0].attributes,function(a,e){var f=e.name.toLowerCase(),g;if(/^data-/.test(f)){f=f.slice(5).replace(/-[a-z]/g,function(a){return a.charAt(1).toUpperCase()});g=d[f];if(b._isRegExpOption(f,g)){g=b._getRegExp(g)}c[f]=g}})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(b){var c=this;if(!b||this.options.disabled){return}if(b.fileInput&&!b.files){this._getFileInputFiles(b.fileInput).always(function(a){b.files=a;c._onAdd(null,b)})}else{b.files=a.makeArray(b.files);this._onAdd(null,b)}},send:function(b){if(b&&!this.options.disabled){if(b.fileInput&&!b.files){var c=this,d=a.Deferred(),e=d.promise(),f,g;e.abort=function(){g=true;if(f){return f.abort()}d.reject(null,"abort","abort");return e};this._getFileInputFiles(b.fileInput).always(function(a){if(g){return}if(!a.length){d.reject();return}b.files=a;f=c._onSend(null,b);f.then(function(a,b,c){d.resolve(a,b,c)},function(a,b,c){d.reject(a,b,c)})});return this._enhancePromise(e)}b.files=a.makeArray(b.files);if(b.files.length){return this._onSend(null,b)}}return this._getXHRPromise(false,b&&b.context)}})});var se=se||{};(function(a,b){var c={_rxRGBColor:/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)/i,getHexColor:function(a){a=(a||"").match(this._rxRGBColor)||[];if(a.length>4&&(!a[4]||a[4]==="1")){return"#"+this.dec2hex(a[1])+this.dec2hex(a[2])+this.dec2hex(a[3])}return""},dec2hex:function(a){var b=parseInt(a,10).toString(16);if(b.length<2){b="0"+b}return b},rgb2hsv:function(a,b,c){var d=0,e=0,f=Math.max(a,b,c),g=Math.min(a,b,c),h=f-g;e=f?h/f:0;if(e){if(a==f){d=60*(b-c)/h}else if(b==f){d=120+60*(c-a)/h}else if(c==f){d=240+60*(a-b)/h}if(d<0){d+=360}}d=d;e=e*100;f=f/255*100;return this.hsv(d,e,f)},hsv2rgb:function(a,b,c){a=a%360/60;b/=100;c/=100;var d=0,e=0,f=0;var g=Math.floor(a);var h=a-g;var i=c*(1-b);var j=c*(1-b*h);var k=c*(1-b*(1-h));switch(g){case 0:d=c;e=k;f=i;break;case 1:d=j;e=c;f=i;break;case 2:d=i;e=c;f=k;break;case 3:d=i;e=j;f=c;break;case 4:d=k;e=i;f=c;break;case 5:d=c;e=i;f=j;break;case 6:break}d=d*255;e=e*255;f=f*255;return this.rgb(d,e,f)},rgb2hex:function(a,b,c){a=Math.round(a).toString(16);if(a.length==1){a="0"+a}b=Math.round(b).toString(16);if(b.length==1){b="0"+b}c=Math.round(c).toString(16);if(c.length==1){c="0"+c}return a+b+c},hex2rgb:function(a){var b=a.match(/#?([0-9a-f]{6}|[0-9a-f]{3})/i);if(b[1].length==3){b=b[1].match(/./g).filter(function(a){return a+a})}else{b=b[1].match(/../g)}return{r:Number("0x"+b[0]),g:Number("0x"+b[1]),b:Number("0x"+b[2])}},hsv2hex:function(a,b,c){var d=this.hsv2rgb(a,b,c);return this.rgb2hex(d.r,d.g,d.b)},hex2hsv:function(a){var b=this.hex2rgb(a);return this.rgb2hsv(b.r,b.g,b.b)},rgb:function(a,b,c){var d=[a,b,c];d.r=a;d.g=b;d.b=c;return d},hsv:function(a,b,c){var d=[a,b,c];d.h=a;d.s=b;d.v=c;return d}};var d={canvas:{paintSV:function(a){var c=b("<canvas>").css({width:"100%",height:"100%"}).appendTo(a);var d=c.attr("width",c.width()).attr("height",c.height()).get(0).getContext("2d");var e=null;var f=c.width();var g=c.height();e=d.createLinearGradient(0,0,f,0);e.addColorStop(0,"rgba(255,255,255,1)");e.addColorStop(1,"rgba(255,255,255,0)");d.fillStyle=e;d.fillRect(0,0,f,g);e=d.createLinearGradient(0,0,0,g);e.addColorStop(0,"rgba(0,0,0,0)");
e.addColorStop(1,"rgba(0,0,0,1)");d.fillStyle=e;d.fillRect(0,0,f,g)},paintHue:function(a,d){var e=b("<canvas>").css({width:"100%",height:"100%"}).appendTo(a);var f=e.attr("width",e.width()).attr("height",e.height()).get(0).getContext("2d");var g=f.createLinearGradient(0,0,d?0:e.width(),d?e.height():0);for(var h=0,i;h<7;h++){i=c.hsv2rgb(h/6*360,100,100);g.addColorStop(h/6,"rgb("+i.join(",")+")")}f.fillStyle=g;f.fillRect(0,0,e.width(),e.height())},paintHSV:function(a){var d={r:0,g:0,b:0};var e=b("<canvas>").css({width:"100%",height:"100%"}).appendTo(a);var f=e.attr("width",e.width()).attr("height",e.height()).get(0).getContext("2d");var g=e.width();var h=e.height();var i=f.createLinearGradient(0,0,0,h);for(var j=0;j<7;j++){d=c.hsv2rgb(j/6*360,100,100);i.addColorStop(j/6,"rgb("+d.join(",")+")")}f.fillStyle=i;f.fillRect(0,0,g,h);i=f.createLinearGradient(0,0,g,0);i.addColorStop(0,"rgba(255,255,255,1)");i.addColorStop(.5,"rgba(255,255,255,0)");i.addColorStop(.5,"rgba(0,0,0,0)");i.addColorStop(1,"rgba(0,0,0,1)");f.fillStyle=i;f.fillRect(0,0,g,h)}},filter:{paintSV:function(a){b("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=1,StartColorStr='#FFFFFFFF',EndColorStr='#00FFFFFF')"}).appendTo(a);b("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr='#00000000',EndColorStr='#FF000000')"}).appendTo(a)},paintHue:function(a,d){var e,f,g,h,i,j;var k=a.width();var l=a.height();var m=null;var n=parseInt(a.css("borderWidth"),10);if(!!isNaN(n)){n=0}k-=n*2;for(var o=1;o<7;o++){e=Math.floor((o-1)/6*(d?l:k));f=Math.floor(o/6*(d?l:k));g=c.hsv2rgb((o-1)/6*360,100,100);h=c.hsv2rgb(o/6*360,100,100);i="#FF"+c.rgb2hex(g.r,g.g,g.b);j="#FF"+c.rgb2hex(h.r,h.g,h.b);m=b("<div>").css({position:"absolute",filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType="+(d?0:1)+",StartColorStr='"+i+"',EndColorStr='"+j+"')"});var p=f-e+1;m.appendTo(a);m.css(d?"left":"top",0).css(d?"width":"height","100%");m.css(d?"top":"left",e+"px").css(d?"height":"width",p+"px")}},paintHSV:function(a){var d,e,f,g,h,i;var j=a.height();for(var k=1;k<7;k++){d=Math.floor((k-1)/6*j);e=Math.floor(k/6*j);f=c.hsv2rgb((k-1)/6*360,100,100);g=c.hsv2rgb(k/6*360,100,100);h="#FF"+c.rgb2hex(f.r,f.g,f.b);i="#FF"+c.rgb2hex(g.r,g.g,g.b);b("<div>").css({position:"absolute",left:0,width:"100%",top:d+"px",height:e-d+"px",filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr='"+h+"',EndColorStr='"+i+"')"}).appendTo(a)}b("<div>").css({position:"absolute",top:0,left:0,width:"50%",height:"100%",filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=1,StartColorStr='#FFFFFFFF',EndColorStr='#00FFFFFF')"}).appendTo(a);b("<div>").css({position:"absolute",top:0,right:0,width:"50%",height:"100%",filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=1,StartColorStr='#00000000',EndColorStr='#FF000000')"}).appendTo(a)}}};var e={SELECTOR:{INPUT:".se_cp_input",APPLY:".se_cp_apply",PREVIEW:".se_cp_preview",PRESET:".se_cp_preset",RECENT:".se_cp_recent",HSV_PANEL:".se_cp_hsvpanel",HUE_PANEL:".se_cp_huepanel",PREFIX:""},CLASS:{SELECTED:"is-selected",ON:"is-on"},TEMPLATE:{RECENT:'<button type="button" title="{{value}}" style="background:{{value}}"><span>{{value}}</span></button>',HSV_POINTER:'<div style="overflow:hidden;position:absolute;top:0;left:0;background:white;border:1px solid black;width:1px;height:1px">',HUE_HANDLE:'<div style="overflow:hidden;position:absolute;top:0;left:-2px;background:white;border:1px solid black;width:3px;height:100%">'},recentMax:20,recentKey:"",value:"#ff0000"};var f=function(a,c){this._$el=b(a);if(!this._$el.length){console.warn("Element is required");return}this._htOption=b.extend(true,{},e,c);this._init()};f.prototype={_rxValid:/^#[0-9a-fA-F]{6}$/i,_value:"#ff0000",_bHsvPanel:false,_bHuePanel:false,_bHueVertical:false,_hsvColor:null,_aRecentColor:null,_fNoop:function(){},_init:function(){this._assignElement();this._bindEvent();this._setTemplateFn();this._paintRecent();this._paintHSV();this.resetValue(this._htOption.value)},_assignElement:function(){var a=this._$el,c=this._htOption.SELECTOR,d=c.PREFIX;this._$elInput=a.find(d+c.INPUT);if(!this._$elInput.length){this._$elInput=b('<input type="hidden">').appendTo(a)}this._$elApply=a.find(d+c.APPLY);this._$elPreset=a.find(d+c.PRESET);this._$elPreview=a.find(d+c.PREVIEW);this._$elRecent=a.find(d+c.RECENT);this._$elHsvPanel=a.find(d+c.HSV_PANEL);this._$elHuePanel=a.find(d+c.HUE_PANEL)},_bindEvent:function(){this._$elApply.on("click.se_cp",b.proxy(this._onClickApply,this));this._$elPreset.on("click.se_cp",b.proxy(this._onClickPreset,this));this._$elRecent.on("click.se_cp","button,a",b.proxy(this._onClickPreset,this));this._$elHsvPanel.on("mousedown.se_cp",b.proxy(this._onDownHsv,this));this._$elHuePanel.on("mousedown.se_cp",b.proxy(this._onDownHue,this))},_setTemplateFn:function(){var a=this._htOption.TEMPLATE,b;for(var c in a){b=a[c];if(typeof b==="string"){a[c]=this._makeTemplateFn(b)}}},_makeTemplateFn:function(a){return function(b){b=b||{};var c=a||"";for(var d in b){c=c.replace(new RegExp("{{"+d+"}}","g"),b[d])}return c}},_paintRecent:function(){if(!this._$elRecent.length){var a=this._fNoop;this._loadRecent=a;this._saveRecent=a;this._addRecent=a;this._updateRecent=a;return}this._loadRecent()},_paintHSV:function(){var a=this._$elHsvPanel,c=this._$elHuePanel;if(!a.length){return}var e=a.get(0).filters?"filter":b("<canvas>").get(0).getContext?"canvas":null;if(!e){return}if(a.empty().css("position")!=="absolute"){a.css("position","relative")}this._bHsvPanel=true;if(c.length){if(c.empty().css("position")!=="absolute"){c.css("position","relative")}this._bHuePanel=true;this._bHueVertical=c.height()>c.width();d[e].paintSV(a);d[e].paintHue(c,this._bHueVertical);this._$elHandle=b(this._htOption.TEMPLATE.HUE_HANDLE()).css("position","absolute").appendTo(c)}else{d[e].paintHSV(a)}this._$elPointer=b(this._htOption.TEMPLATE.HSV_POINTER()).css("position","absolute").appendTo(a)},_onClickApply:function(a){a.preventDefault();var b=this._$elInput.val(),c=this._isValid(b);this._$el.trigger("apply",{value:b,valid:c,target:a.currentTarget});if(!c){return}this.setValue(b)},_onClickPreset:function(a){a.preventDefault();var c=b(a.currentTarget).attr("title"),d=this._isValid(c);this._$el.trigger("apply",{value:c,valid:d,target:a.currentTarget});this.setValue(c)},_hsv:function(a){if(!this._bHsvPanel){return}if(typeof a=="undefined"){return this._hsvColor}var b=null;var d=this._$elHsvPanel.width();var e=this._$elHsvPanel.height();var f=0,g=0;if(this._bHuePanel){b=c.hsv2rgb(a.h,100,100);this._$elHsvPanel.css("background","#"+c.rgb2hex(b.r,b.g,b.b));this._updateHueHandle(a.h);f=a.s/100*d;g=(100-a.v)/100*e}else{var h=d/2;if(a.v>a.s){a.v=100;f=a.s/100*h}else{a.s=100;f=(100-a.v)/100*h+h}g=a.h/360*e}this._$elPointer.css({left:f-this._$elPointer.outerWidth()/2+"px",top:g-this._$elPointer.outerHeight()/2+"px"});this._hsvColor=a;this._updatePreview("#"+c.hsv2hex(a.h,a.s,a.v))},_updateHueHandle:function(a){var b=0,c=0,d="",e={},f=0;if(this._bHueVertical){b=this._$elHuePanel.height();c=this._$elHandle.outerHeight();d="top"}else{b=this._$elHuePanel.width();c=this._$elHandle.outerWidth();d="left"}f=a/360*b-c/2;f=Math.min(Math.max(f,0),b-c);e[d]=f+"px";this._$elHandle.css(e)},_isMouseLeft:function(a){if("which"in a){return a.which===1}if("button"in a){return a.button&1}return false},_getPagePos:function(a){if("pageX"in a){return[a.pageX,a.pageY]}return[a.clientX+document.documentElement.scrollLeft,a.clientY+document.documentElement.scrollTop]},_getOffsetPos:function(a){a=a.originalEvent||a;if("offsetX"in a){return[a.offsetX,a.offsetY]}if("layerX"in a){return[a.layerX,a.layerY]}return[0,0]},_onDownHsv:function(a){if(!this._isMouseLeft(a)){return false}this._hsvPagePos=this._getPagePos(a);this._hsvOffsetPos=this._getOffsetPos(a);if(this._$elPointer.is(a.target)){var c=this._$elPointer.position();this._hsvOffsetPos[0]+=c.left;this._hsvOffsetPos[1]+=c.top}b(document).on("mouseup.se_cp_hsvpanel",b.proxy(this._onUpHsv,this)).on("mousemove.se_cp_hsvpanel",b.proxy(this._onMoveHsv,this));this._onMoveHsv(a)},_onUpHsv:function(a){b(document).off(".se_cp_hsvpanel")},_onMoveHsv:function(a){var b=this._hsvColor;var c=this._getPagePos(a);var d=this._hsvOffsetPos[0]+(c[0]-this._hsvPagePos[0]);var e=this._hsvOffsetPos[1]+(c[1]-this._hsvPagePos[1]);var f=this._$elHsvPanel.width();var g=this._$elHsvPanel.height();d=Math.max(Math.min(d,f),0);e=Math.max(Math.min(e,g),0);if(this._bHuePanel){b.s=b[1]=d/f*100;b.v=b[2]=(g-e)/g*100}else{b.h=e/g*360;var h=f/2;if(d<h){b.s=d/h*100;b.v=100}else{b.s=100;b.v=(f-d)/h*100}}this._hsv(b);a.preventDefault();a.stopImmediatePropagation()},_onDownHue:function(a){if(!this._isMouseLeft(a)){return false}this._huePagePos=this._getPagePos(a);this._hueOffsetPos=this._getOffsetPos(a);if(this._$elHandle.is(a.target)){var c=this._$elHandle.position();this._hueOffsetPos[0]+=c.left;this._hueOffsetPos[1]+=c.top}b(document).on("mouseup.se_cp_huepanel",b.proxy(this._onUpHue,this)).on("mousemove.se_cp_huepanel",b.proxy(this._onMoveHue,this));this._onMoveHue(a)},_onUpHue:function(a){b(document).off(".se_cp_huepanel")},_onMoveHue:function(a){var b=this._hsvColor;var c=this._getPagePos(a);var d=0,e=0;var f=this._hueOffsetPos[0]+(c[0]-this._huePagePos[0]);var g=this._hueOffsetPos[1]+(c[1]-this._huePagePos[1]);if(this._bHueVertical){d=g;e=this._$elHuePanel.height()}else{d=f;e=this._$elHuePanel.width()}b.h=b[0]=Math.min(Math.max(d,0),e)/e*360;this._hsv(b);a.preventDefault();a.stopImmediatePropagation()},_isValid:function(a){return this._rxValid.test(a)},_covertValidColor:function(a){return this._isValid(a)?a.toLowerCase():""},_updatePreview:function(a){this._$elInput.val(a);this._$elPreview.css("background",a)},_updateUI:function(a){this._updatePreview(a);this._$elPreset.removeClass(this._htOption.CLASS.SELECTED).each(b.proxy(function(c,d){var e=b(d);if(this._covertValidColor(e.attr("title"))===a){e.addClass(this._htOption.CLASS.SELECTED)}},this));if(a){this._hsv(c.hex2hsv(a))}},setValue:function(a){a=this._covertValidColor(a);this._addRecent(a);if(this._value===a){return}this._value=a;this._updateUI(a);this._$el.trigger("change",{value:a})},resetValue:function(a){a=this._covertValidColor(a)||this._value;this._value=a;this._updateUI(a)},_loadRecent:function(){var a=localStorage.getItem("se_cp_recent_"+this._htOption.recentKey);this._aRecentColor=a?a.split(",").slice(0,this._htOption.recentMax):[];this._updateRecent(this._aRecentColor)},_saveRecent:function(){var a=this._aRecentColor.join(",");localStorage.setItem("se_cp_recent_"+this._htOption.recentKey,a)},_addRecent:function(a){var b=this._aRecentColor||[],c=b.length,d=[a];for(var e=0;e<c;e++){if(b[e]!==a){d.push(b[e])}}this._aRecentColor=d.slice(0,this._htOption.recentMax);this._saveRecent();this._updateRecent(this._aRecentColor)},_updateRecent:function(a){var b=this._htOption.TEMPLATE.RECENT,c=a.length,d="";for(var e=0;e<c;e++){d+=b({value:a[e]})}this._$elRecent.html(d)},on:function(){this._$el.on.apply(this._$el,arguments)},_unbindEvent:function(){for(var a in this){if(a.indexOf("_$el")===0){this[a].off(".se_cp")}}},destroy:function(){this._unbindEvent()}};a.ColorPicker=f;a.ColorPicker.color=c})(se,jQuery);(function(){"use strict";var a=function(){var a=function(){return(new Date).getMilliseconds()+Math.floor(Math.random()*1e5)},b=function(a,b){var c=document.createElement("iframe");c.src=b;c.style.display="none";c.style.position="absolute";c.style.width="1px";c.style.height="1px";c.style.left="-100px";c.style.top="-100px";a.appendChild(c);return c},c=function(a,b){var c={},d=b.split("|"),e,f,g;for(e=0;e<d.length;e+=1){f=d[e].split("=");if(!f[1]){c[g]=c[g]+"|"+f[0];continue}else if(f[0]==="exif"){c[f[0]]=f[1].replace(/&quot;/g,'"')}else if(/^[0-9]+$/.test(f[1])===true){c[f[0]]=parseInt(f[1])}else{c[f[0]]=f[1]}g=f[0]}c.index=a;return c},d=function(a,b){var c={},d,e,f;d=b.replace("<![CDATA[","").replace("]]>","").match(/<?[^>]*?>([\S\s]*)/)[1].match(/<([^>]*)>([^<]*)<\/([^>]*)>/g);for(e=0;e<d.length;e+=1){f=d[e].match(/<([^>]*)>([^<]*)<\/[^>]*>/);if(f[1]==="exif"){f[2]=f[2].replace(/&quot;/g,'"')}c[f[1]]=f[2]}if(c.code===undefined){c.code="IMAGE"}else{c={index:a,code:c.code}}return c},e=function(a){if(a){return"https:"}else{return"http:"}},f=function(){var a;try{if(window.XMLHttpRequest){a=new XMLHttpRequest}else if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){a=new ActiveXObject("Microsoft.XMLHTTP")}}}finally{return a}},g=function(a,b){var c=a.substring(a.lastIndexOf(".")+1).toLowerCase(),d;for(d=0;d<b.length;d+=1){if(c===b[d]){return true}}return false},h=function(a,b,c,e,g,h,i){var j=f(),k=new window.FormData;k.append("image",c);j.onload=function(){if(j.status===200){a.value=null;e(d(b,j.responseText))}else{e({index:b,code:"CLIENT"})}};j.open("POST",g,true);i&&i({el:a,index:b,fileName:c.name,xhr:j});if(h.millisecond>0){j.timeout=h.millisecond;j.ontimeout=function(){h.handler({index:b,fileName:c.name})}}j.send(k)},i=function(a){return e(a.sslEnabled)+"//"+a.domain+"/"+a.sessionKey+"/simpleUpload/"+a.index+"?userId="+a.userId+"&extractExif="+a.extractExif+"&extractAnimatedCnt="+a.extractAnimatedCnt+"&autorotate="+a.autorotate+"&extractDominantColor="+a.extractDominantColor+"&type="+a.type},j=function(){return/naver\.net$/.test(document.domain)||/naver\.com$/.test(document.domain)||/navercorp\.com$/.test(document.domain)||/arcadur\.com$/.test(document.domain)||/webtoons\.com$/.test(document.domain)||/linedict\.com$/.test(document.domain)||/pholar\.co$/.test(document.domain)||/vlive\.tv$/.test(document.domain)||/line\.me$/.test(document.domain)||/modoo\.at$/.test(document.domain)},k=[],l=function(a){return function(b){a.done=true;a.handler(c(a.index,b));window[a.callback]=null}},m=function(a){if(a.millisecond>0){setTimeout(function(){if(!a.done){window[a.callback]=function(){window[a.callback]=null};a.timeoutHandler({index:a.index,fileName:a.fileName})}},a.millisecond)}},n=function(a){if(a.el.value===""){return false}},o=function(a){if(!a.sessionKey){a.handler({code:"FAIL_TO_GET_SESSION_KEY"});return false}},p=function(a){if(!a.form){a.handler({code:"FAIL_TO_LOAD_IFRAME"});return false}if(g(a.imageFileName,a.allowedImageType)===false){a.handler({code:"UNSUPPORTED_EXTENSION"});return false}return true},q=function(a){var b={isNotEmptyString:function(b){if(!(typeof b.value==="string"&&b.value.length>0)){throw a+b.name+" must be a not empty string"}},isString:function(b){if(!(typeof b.value==="string")){throw a+b.name+" must be a string"}},isFunction:function(b){if(!(b.value&&typeof b.value==="function")){throw a+b.name+" must be a function"}},isBoolean:function(b){if(!(typeof b.value==="boolean")){throw a+b.name+" must be a boolean"}},isNumber:function(b){if(!(typeof b.value==="number")){throw a+b.name+" must be a number"}},isNotEmptyArray:function(b){if(!(b.value instanceof Array&&b.value.length>0)){throw a+b.name+" must be a not empty array"}},isNotNull:function(b){if(b.value==null){throw a+b.name+" must not be null"}},isInputTag:function(b){if(!(b.value&&b.value.tagName&&b.value.tagName==="INPUT")){throw a+b.name+" must be an input tag"}},isFile:function(b){if(!(window.File&&b.value instanceof File)){throw a+b.name+" must be a File"}}};return b},r=f()!==undefined&&window.File!==undefined&&j(),s={};s.getUploader=function(c,e,g){var h=document.getElementsByTagName("body")[0],j=new q("[phup.js] usage : phup.getUploader(type, handler, options)\n[phup.js] error : "),k={BASE64:{upload:function(b){var h=b&&b.base64image,k=b&&b.imageFileName,n=b&&(b.index||0),q="phup_callback_"+a(),u,C,I={index:n,millisecond:F.millisecond,handler:e,timeoutHandler:F.handler,done:C,callback:q,fileName:k};H(g);j.isNotEmptyString({value:h,name:"param.base64image"});j.isNotEmptyString({value:k,name:"param.imageFileName"});E(function(a){var b,g,j=i({sslEnabled:x,domain:v,sessionKey:a,userId:w,extractExif:y,extractAnimatedCnt:z,extractDominantColor:A,autorotate:B,index:n,type:c});if(o({sessionKey:a,handler:e})==false){return}if(r){b=f();g=new window.FormData;g.append("imageFileName",k),g.append("base64image",h),b.onload=function(){if(b.status===200){e(d(n,b.responseText))}else{e({index:n,code:"CLIENT"})}};b.open("POST",j,true);G&&G({index:n,fileName:k,xhr:b});if(F.millisecond>0){b.timeout=F.millisecond;b.ontimeout=function(){F.handler({index:n,fileName:file.name})}}b.send(g)}else{t=s.contentWindow.document.getElementById("phup_upload_form");if(p({form:t,handler:e,imageFileName:k,allowedImageType:D})==false){return}window[q]=l(I);for(u=t.firstChild;u!=null;u=u.nextSibling){switch(u.id){case"phup_callback_func":u.value=q;break;case"imageFileName":u.value=k;u.disabled=null;break;case"base64image":u.value=h;u.disabled=null;break}}t.action=i({sslEnabled:x,domain:v,sessionKey:a,userId:w,extractExif:y,extractAnimatedCnt:z,extractDominantColor:A,autorotate:B,index:n,type:c});G&&G({el:el,index:n,fileName:k});t.submit();m(I);t.reset()}})}},SIMPLE:{upload:function(b){var h=b&&b.file,k=b&&(b.imageFileName||""),l=b&&(b.index||0),m="phup_callback_"+a(),n,p={index:l,millisecond:F.millisecond,handler:e,timeoutHandler:F.handler,done:n,callback:m,fileName:k};H(g);j.isFile({value:h,name:"param.file"});j.isString({value:k,name:"param.imageFileName"});E(function(a){var b,g,j=i({sslEnabled:x,domain:v,sessionKey:a,userId:w,extractExif:y,extractAnimatedCnt:z,extractDominantColor:A,autorotate:B,index:l,type:c});if(o({sessionKey:a,handler:e})==false){return}if(r){b=f();g=new window.FormData;if(k.length>0){g.append("imageFileName",k)}g.append("image",h),b.onload=function(){if(b.status===200){e(d(l,b.responseText))}else{e({index:l,code:"CLIENT"})}};b.open("POST",j,true);G&&G({index:l,fileName:h.name,xhr:b});if(F.millisecond>0){b.timeout=F.millisecond;b.ontimeout=function(){F.handler({index:l,fileName:h.name})}}b.send(g)}else{throw"[phup.js] error : SIMPLE uploader requires File & FormData"}})}}},n=k[c],s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,c,H=function(a){u=a&&a.resourcePath||"";v=a&&a.domain;w=a&&a.userId;x=a&&(a.sslEnabled||false);y=a&&(a.extractExif||false);z=a&&(a.extractAnimatedCnt||false);A=a&&(a.extractDominantColor||false);B=a&&(a.autorotate||false);C=a&&(a.maxFileSize||10485760);D=a&&a.allowedImageType||["png","jpg","jpeg","bmp","gif"];E=a&&a.getSessionKey;F=a&&(a.timeout||{millisecond:0,handler:function(){}});G=a&&a.onstart;c=a&&a.type||"";j.isNotEmptyString({value:v,name:"options.domain"});j.isNotEmptyString({value:w,name:"options.userId"});j.isFunction({value:E,name:"options.getSessionKey"});j.isBoolean({value:x,name:"options.sslEnabled"});j.isBoolean({value:y,name:"options.extractExif"});j.isBoolean({value:z,name:"options.extractAnimatedCnt"});j.isBoolean({value:A,name:"options.extractDominantColor"});j.isBoolean({value:B,name:"options.autorotate"});j.isNumber({value:C,name:"options.maxFileSize"});j.isNotEmptyArray({value:D,name:"options.allowedImageType"});j.isNumber({value:F.millisecond,name:"options.timeout.millisecond"});j.isFunction({value:F.handler,name:"options.timeout.handler"});G&&j.isFunction({value:G,name:"options.onstart"});j.isString({value:c,name:"options.type"});if(!s){s=b(h,u+"/phup_frame.html")}};j.isNotEmptyString({value:c,name:"type"});j.isNotNull({value:g,name:"options"});if(!(typeof g==="function")){H(g)}return n};s.config=function(c,d,e){var f=document.getElementsByTagName("body")[0],j,s,t,u=document.createElement("div"),v=c&&c.onclick,w=c&&c.onchange,x=c&&c.multiple,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=new q("[phup.js] usage : phup.config(el, handler, options)\n[phup.js] error : "),N,O=function(a){y=a&&a.resourcePath||"",z=a&&a.domain,A=a&&a.userId,B=a&&(a.sslEnabled||false),C=a&&(a.extractExif||false),D=a&&(a.extractAnimatedCnt||false),E=a&&(a.extractDominantColor||false),F=a&&(a.autorotate||false),G=a&&(a.maxFileSize||10485760),H=a&&a.allowedImageType||["png","jpg","jpeg","bmp","gif"],I=a&&a.getSessionKey;J=a&&(a.timeout||{millisecond:0,handler:function(){}});K=a&&a.onstart;N=a&&a.type||"";M.isNotEmptyString({value:z,name:"options.domain"});M.isNotEmptyString({value:A,name:"options.userId"});M.isFunction({value:I,name:"options.getSessionKey"});M.isBoolean({value:B,name:"options.sslEnabled"});M.isBoolean({value:C,name:"options.extractExif"});M.isBoolean({value:D,name:"options.extractAnimatedCnt"});M.isBoolean({value:E,name:"options.extractDominantColor"});M.isBoolean({value:F,name:"options.autorotate"});M.isNumber({value:G,name:"options.maxFileSize"});M.isNotEmptyArray({value:H,name:"options.allowedImageType"});M.isNumber({value:J.millisecond,name:"options.timeout.millisecond"});M.isFunction({value:J.handler,name:"options.timeout.handler"});K&&M.isFunction({value:K,name:"options.onstart"});M.isString({value:N,name:"options.type"});if(!s&&!r){s=b(f,y+"/phup_frame.html")}};M.isInputTag({value:c,name:"el"});for(L in k){if(k.hasOwnProperty(L)){if(k[L]==c){throw"[phup.js] error : el is already bound with phup.js"}}}k.push(c);M.isFunction({value:d,name:"handler"});M.isNotNull({value:e,name:"options"});if(!(typeof e==="function")){O(e)}c.onclick=function(a){v&&v(a);if(typeof e==="function"){O(e())}I(function(a){j=a;if(t){c.onupload(t)}})};if(r){c.onupload=function(){var a=c.files,b;w&&w();if(n({el:c})==false){return}if(o({sessionKey:j,handler:d})==false){return}for(b=0;b<a.length;b+=1){if(g(a[b].name,H)===false){d({index:b,code:"UNSUPPORTED_EXTENSION"})}else if(a[b].size>G){d({index:b,code:"LIMITATION_BY_IMAGE"})}else{h(c,b,a[b],d,i({sslEnabled:B,domain:z,sessionKey:j,userId:A,extractExif:C,extractAnimatedCnt:D,extractDominantColor:E,autorotate:F,index:b,type:N}),J,K)}}};c.onchange=function(a){if(j){c.onupload(a);t=null}else{t=a}}}else{c.multiple=false;c.onupload=function(b){var e=c.name,f=c.value.replace(/^C:\\fakepath\\/,""),g=c.parentNode,h=s.contentWindow.document.getElementById("phup_upload_form"),k="phup_callback_"+a(),q,r,t={index:0,millisecond:J.millisecond,handler:function(a){c.onclick=v;d(a)},timeoutHandler:function(a){c.onclick=v;J.handler(a)},done:r,callback:k,fileName:f};w&&w(b);if(n({el:c})==false){return}if(o({sessionKey:j,handler:d})==false){return}if(p({form:h,handler:d,imageFileName:f,allowedImageType:H})==false){return}window[k]=l(t);c.name="image";c.onclick=function(a){if(a&&a.preventDefault){a.preventDefault()}};g.replaceChild(u,c);h.appendChild(c);for(q=h.firstChild;q!=null;q=q.nextSibling){switch(q.id){case"phup_callback_func":q.value=k;break}}h.action=i({sslEnabled:B,domain:z,sessionKey:j,userId:A,extractExif:C,extractAnimatedCnt:D,extractDominantColor:E,autorotate:F,index:0,type:N});K&&K({el:c,index:0,fileName:f});h.submit();m(t);h.reset();c.name=e;g.replaceChild(c,u)};c.onchange=function(a){if(j){c.onupload(a);t=null}else{t=a}}}};return s};if("undefined"===typeof define){window.phup=new a}else{define(function(){return new a})}})();se.defineStatic("se.i18n",function(){var a=$SE_CONFIG.ENV_SETTING.I18N_LOCALE;var b={"ko-KR":{},"en-US":{},"ja-JP":{},"fr-FR":{}};function c(b){a=b}function d(c,d){if(arguments.length===1){d=c;c=a}return b[c][d]}function e(c,d){if(arguments.length===1){d=c;c=a}var e={};for(var f in b[c]){if(f.indexOf(d)===0){e[f.replace(d,"")]=b[c][f]}}return e}function f(c,d){b=_.isArray(d)?g({},d):d;a=c}function g(a,b){if(_.isArray(b)===false){b=[b]}b.forEach(function(b){for(var c in b){if(b[c]&&typeof b[c]==="object"){a[c]=a[c]||{};a[c]=g(a[c],b[c])}else{a[c]=b[c]}}});return a}return{messageMap:function(a){if(a){b=a}else{return b}},extendBundle:function(a){if(!a){return}b=g(b,a)},getMsg:d,getMsgList:e,init:f,setLocale:c}}());
//# sourceMappingURL=se_lib_ext_plugin_2.min.js.map