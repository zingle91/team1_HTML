/*! SmartEditor3 - v1.0.0 - 2018-05-10
* Copyright (c) 2018 NAVER Corp; Licensed  */

se.defineStatic("se.BlogNormalEditorApp",function(){var a,b,c,d,e,f,g;var h;var i;function j(){var j=k();c=new se.CommonViewController;b=new se.TopPanelController;d=new se.SidePanelController;g=new se.SpellerController;e=new se.DataController;f=new se.HistoryController({htCallback:j});h=new se.PhotoEditorController({resizePreset:$SE_CONFIG.SERVICE_CONFIG.PHOTO_EDITOR_OPT.RESIZE_PRESET[$SE_CONFIG.SERVICE_CONFIG.CONTENTS_STANDARD_WIDTH]});i=new se.UploadStatusBar;new se.PublishManager($SE_CONFIG.getProperty("DOC_DATA").publishMeta);a=jHusky.getCoreInstance();a.registerPlugin(b);a.registerPlugin(d);a.registerPlugin(e);a.registerPlugin(f);a.registerPlugin(c);a.registerPlugin(g);$SE_MODEL_DATA_COORD.registUpdateThemeCallback(function(a){d.updateTheme(a)})}function k(){var a={};a.canvas={undo:function(a){a.bHistory=true;$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.RESTORE_CANVAS,a)},redo:function(a){a.bHistory=true;$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.RESTORE_CANVAS,a)}};a.component={undo:function(a){a.bHistory=true;$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.RESTORE_COMPONENT,a)},redo:function(a){a.bHistory=true;$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.RESTORE_COMPONENT,$.extend(true,{},a))}};return a}function l(){$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.CREATE_CANVAS_GATEWAY,function(){m()});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.GET_COMPONENTS_DATA,function(){return $SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.GET_COMPONENTS_DATA)});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.GET_COMP_VIEW_LIST,function(a){return $SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.GET_COMP_VIEW_LIST,a)});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.READONLY,function(a){$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.READONLY,a)});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.BIND_GLOBAL_EVENT_HANDLER,function(a,b,c){if(!c){$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.BIND_GLOBAL_EVENT_HANDLER,a,b)}$(document.body).on(a,b)});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.UNBIND_GLOBAL_EVENT_HANDLER,function(a,b){if(!b){$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.UNBIND_GLOBAL_EVENT_HANDLER,a)}$(document.body).off(a)});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.POPUP_TOAST,function(a,b){$(document.body).ntoast("setMessage",a);$(document.body).ntoast("popupToast",b)});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.CLOSE_TOAST,function(){$(document.body).ntoast("closeToast")});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.SHOW_LOADING_LAYER,function(a,b){var c=a==="inner"?$("#se_inner_lodding"):$("#se_outter_lodding");c.find(".__se_loading_text").html(b);if(!c[0].classList.contains("is-on")){c.addClass("is-on");$("#se_top_menu_area").find(".header-default").addClass("dim")}});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.HIDE_LOADING_LAYER,function(a){var b=a==="inner"?$("#se_inner_lodding"):$("#se_outter_lodding");b.removeClass("is-on");$("#se_top_menu_area").find(".header-default").removeClass("dim")});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.SHOW_PROGRESS_BAR,function(){if(document.getElementById("se_progressbar").classList.contains("is-on")){$("#se_progressbar").removeClass("is-on")}$("#se_progressbar").addClass("is-on")});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.HIDE_PROGRESS_BAR,function(){setTimeout(function(){$("#se_progressbar").removeClass("is-on")},500)});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.GET_EDITOR_VIEW_TAG,function(){return $SE_CONFIG.USER_INFO.TAG});$SE_EVENT_HUB.on($SE_EVENT_HUB.MSG.CONTROL.GET_OEPN_WRITING_MATERIAL_NAME,function(){return $SE_CONFIG.USER_INFO.OPEN_WRITING_MATERIAL_NAME})}function m(){var a=$SE_CONFIG.ENV_SETTING.CANVAS_FRAME_ID;var e=document.getElementById(a);var f=(e.contentWindow||e.contentDocument).window;$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.SET_DOCUMENT_COORD,$SE_MODEL_DATA_COORD);$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.CREATE_MODAL_MANAGER,$SE_MODAL);b.bindFrameWheelEvent();r(f);d.activateMenu();c.checkGuideOpen();g.setCanvasWindow(f);b.changePreviewSize($SE_CONFIG.PREVIEW_TYPE.PC);$("#se_top_menu_area").find(".header-default").removeClass("dim");if(f.$SE_MEDIA){$SE_MEDIA=f.$SE_MEDIA}q()}var n=$("#se_top_menu_area");var o=$("#se_top_contents_box");function p(){var b=window.innerHeight;b=b-n.innerHeight();b=b-o.height();a.exec("RESIZE_WINDOW",[b])}function q(){var a=se.util.Common.throttle(p,150,this);$(window).on("resize",function(){a.call(this)}.bind(this));var b=function(){$SE_MEDIA.closeAll();if($SE_CONFIG.ENV_SETTING.IS_ALLOW_EMPTY_CHECK&&!e.isEmptyDocument()){return se.i18n.getMsg("MSG_LEAVE_EDITOR")}}.bind(this);$(window).on("beforeunload",b);$(".editor-container").on("click",function(){$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.FOCUS_OUT_FOCUSED)})}function r(){var b={};b[$SE_CONFIG.HOTKEY.UNDO.ns]=function(b){b.preventDefault();a.exec("HISTORY_EXEC",["UNDO"])};b[$SE_CONFIG.HOTKEY.REDO.ns]=function(){a.exec("HISTORY_EXEC",["REDO"])};var c=$SE_EVENT_HUB.trigger($SE_EVENT_HUB.MSG.CANVAS.GET_CANVAS_SHORTCUT_DATA,$SE_HOTKEY);$SE_HOTKEY.registData(b);$SE_HOTKEY.registData(c);$SE_HOTKEY.runShortcut()}function s(){var a=$SE_CONFIG.getProperty("DOC_DATA");e.createDocumentData(a,true)}function t(){}var u=false;var v=null;function w(){var a="";var b="";if(u){return}u=true;if($SE_CONFIG.ENV_SETTING.LOAD_MODE==="dev"){a=a+"/static/font"}else{a=window.$SE_BUILD_CONFIG.CDN_HOST+"/static/font"}$(document.head).append($("<style id='minFontCSS' type='text/css'></style>"));v=$("#minFontCSS");b=$SE_COMMON_UTIL.getWebFontStyleContents("normal",a);v.get(0).innerHTML=b}function x(){j();s();l();p();a.run({fnOnAppReady:function(){$("#se_canvas_frame")[0].contentWindow.focus();setTimeout(function(){w()},500)}})}return{run:x}}());
//# sourceMappingURL=blog_desktop_normal_editor_app.min.js.map